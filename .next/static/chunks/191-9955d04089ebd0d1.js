"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[191],{3934:function(e,t,a){var l=a(3955),n=a(2310),s=a(1268),i=a(4214),r=a(6008),o=a(8515);t.Z=()=>{(0,r.useRouter)();let{push:e}=(0,r.useRouter)(),[t,a]=(0,n.useState)(!1),[c,d]=(0,n.useState)({}),[u,p]=(0,n.useState)(!1),[h,m]=(0,n.useState)(""),[x,g]=(0,n.useState)(""),[j,b]=(0,n.useState)([""]);(0,n.useEffect)(()=>{d(e=>({...e,category:""+h,img:j}))},[h,j]);let v=e=>{if("price"==e.target.name){let t=e.target.value.replace(/[^0-9.]/g,""),a=t.includes(".")?t.split(".").slice(0,2).join("."):t;g(a)}let t=e.target.name,a=e.target.value;d(e=>({...e,[t]:a,img:localStorage.getItem("sharedValue")}))};return(0,l.jsxs)("div",{children:[(0,l.jsx)("button",{onClick:()=>a(!0),className:"text-white p-3 cursor-pointer",style:{background:"#c01907"},children:"Add New Item"}),(0,l.jsx)(s.Z,{modalOpen:t,setModalOpen:a,children:(0,l.jsxs)("form",{className:"w-full mt-3",onSubmit:e=>{e.preventDefault(),"0"==e.target.category.value?alert("Please select a category"):j.includes("")?alert("Please select item image"):(p(!0),i.Z.post("/api/posts",c).then(e=>{console.log(e)}).catch(e=>{console.log(e.response.data)}).finally(()=>{d({}),a(!1),p(!1),window.location.replace("/dashboard")}))},children:[(0,l.jsx)("input",{type:"text",placeholder:"Title",name:"title",className:"w-full p-2",value:c.title||"",onChange:v,required:!0}),(0,l.jsx)("textarea",{placeholder:"Description",name:"description",className:"w-full p-2 my-3",value:c.description||"",onChange:v,required:!0}),(0,l.jsxs)("select",{name:"category",value:h,onChange:e=>{let t=e.target.value;m(t)},style:{width:"100%",height:"40px"},children:[(0,l.jsx)("option",{value:"0",selected:!0,children:"--Choose Category--"}),(0,l.jsx)("option",{value:"Birthday boy cake",children:"Birthday boy cake"}),(0,l.jsx)("option",{value:"Birthday girl cake",children:"Birthday girl cake"}),(0,l.jsx)("option",{value:"Baptism cake",children:"Baptism cake"}),(0,l.jsx)("option",{value:"Communion cake",children:"Communion cake"}),(0,l.jsx)("option",{value:"Event birthday",children:"Event birthday"}),(0,l.jsx)("option",{value:"Event baptism",children:"Event baptism"}),(0,l.jsx)("option",{value:"Event wedding",children:"Event wedding"})]}),(0,l.jsx)("br",{}),(0,l.jsx)(o.Z,{HandleImagesChange:e=>{e&&b(e)},className:"mt-10 border border-neutral-200 p-16"}),(0,l.jsx)("p",{style:{color:"red"},children:"Note: images should be no more 1MB and size of 600 * 600 px"}),(0,l.jsx)("style",{dangerouslySetInnerHTML:{__html:"\n.uploadcare--widget__button_type_open { \n    background-color: #c01907 !important;\n}\n"}}),(0,l.jsx)("style",{dangerouslySetInnerHTML:{__html:"   \n\n.uploadcare--button_size_big { \n    background-color: #c01907 !important;\n}\n"}}),(0,l.jsx)("button",{type:"submit",className:"px-5 py-2 mt-3",style:{background:"#c01907"},disabled:u,children:"Submit"})]})})]})}},8515:function(e,t,a){var l=a(3955),n=a(2312),s=a(5852),i=a(2310);t.Z=e=>{let{defaultValue:t,HandleImagesChange:a}=e,[r,o]=(0,i.useState)(!0),[c,d]=(0,i.useState)([]);return(0,l.jsx)(n.Z,{sx:{pt:"1.5em"},children:r&&(0,l.jsx)(s.W,{clearable:!0,multiple:!0,imagesOnly:!0,onChange:()=>{a(c)},onFileSelect:async e=>{let t=e&&e.files();if(!t)return;let a=[];for(let e=0;e<t.length;e++)t[e].done(e=>{(null==e?void 0:e.cdnUrl)&&a.push("".concat(e.cdnUrl))});d(a)},publicKey:"82c22ce4191fe23b296a"})})}},1268:function(e,t,a){var l=a(3955);t.Z=e=>{let{children:t,modalOpen:a,setModalOpen:n}=e;return(0,l.jsx)(l.Fragment,{children:a&&(0,l.jsx)("div",{className:"bg-black/50 fixed inset-0",children:(0,l.jsx)("div",{className:"flex justify-center items-center h-full",children:(0,l.jsxs)("div",{className:"flex flex-col items-end bg-slate-300  p-5",children:[(0,l.jsx)("button",{onClick:()=>n(!1),className:"text-2xl mb-3",children:"\xd7"}),t]})})})})}},8257:function(e,t,a){a.d(t,{Z:function(){return d}});var l=a(3955),n=a(1268),s=a(4214),i=a(6008),r=a(8515),o=a(2310),c=e=>{let{post:t}=e;(0,i.useRouter)();let[a,c]=(0,o.useState)(!1),[d,u]=(0,o.useState)(t),[p,h]=(0,o.useState)(!1),[m,x]=(0,o.useState)(!1),[g,j]=(0,o.useState)(""),[b,v]=(0,o.useState)(""),[f,y]=(0,o.useState)([""]),[w,k]=(0,o.useState)(!1),N=e=>{if("price"==e.target.name){let t=e.target.value.replace(/[^0-9.]/g,""),a=t.includes(".")?t.split(".").slice(0,2).join("."):t;v(a)}let t=e.target.name,a=e.target.value;u(e=>({...e,[t]:a}))},C=e=>{s.Z.delete("/api/posts/".concat(e)).then(e=>{console.log(e)}).catch(e=>{console.log(e)}).finally(()=>{c(!1),window.location.replace("/dashboard")})};return(0,o.useEffect)(()=>{g&&u(e=>({...e,category:""+g}))},[g]),(0,o.useEffect)(()=>{f.includes("")||u(e=>({...e,img:f}))},[f]),(0,l.jsxs)("div",{className:"bg-slate-200 p-3 min-h-full min-w-full",children:[(0,l.jsxs)("h1",{className:"text-2xl font-bold",children:["Title : ",t.title]}),(0,l.jsxs)("b",{children:["Category : ",t.category]}),(0,l.jsx)("br",{}),(0,l.jsxs)("b",{children:["Price($) : ",t.price]}),(0,l.jsx)("br",{}),(0,l.jsx)("p",{style:{width:"150px",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},children:t.description}),(0,l.jsx)("br",{}),(0,l.jsx)("img",{src:t.img[0],width:50}),(0,l.jsxs)("div",{className:"pt-5",children:[(0,l.jsx)("button",{className:"text-blue-700 mr-3",onClick:()=>c(!0),children:"Edit"}),(0,l.jsx)(n.Z,{modalOpen:a,setModalOpen:c,children:(0,l.jsxs)("form",{className:"w-full mt-3",onSubmit:e=>{e.preventDefault(),h(!0),s.Z.patch("/api/posts/".concat(t.id),d).then(e=>{console.log(e)}).catch(e=>{console.log(e)}).finally(()=>{c(!1),h(!1),window.location.replace("/dashboard")})},children:[(0,l.jsx)("input",{type:"text",placeholder:"Title",name:"title",className:"w-full p-2",value:d.title||"",onChange:N,required:!0}),(0,l.jsx)("textarea",{placeholder:"Description",name:"description",className:"w-full p-2 my-3",value:d.description||"",onChange:N,required:!0}),(0,l.jsxs)("select",{name:"category",value:g,onChange:e=>{let t=e.target.value;j(t),x(!0)},style:{width:"100%",height:"40px"},children:[(0,l.jsx)("option",{value:"0",selected:!0,children:"--Choose Category--"}),(0,l.jsx)("option",{value:"Birthday boy cake",children:"Birthday boy cake"}),(0,l.jsx)("option",{value:"Birthday girl cake",children:"Birthday girl cake"}),(0,l.jsx)("option",{value:"Baptism cake",children:"Baptism cake"}),(0,l.jsx)("option",{value:"Communion cake",children:"Communion cake"}),(0,l.jsx)("option",{value:"Event birthday",children:"Event birthday"}),(0,l.jsx)("option",{value:"Event baptism",children:"Event baptism"}),(0,l.jsx)("option",{value:"Event wedding",children:"Event wedding"})]}),(0,l.jsx)("br",{}),(0,l.jsx)(r.Z,{HandleImagesChange:e=>{e&&y(e)},className:"mt-10 border border-neutral-200 p-16"}),(0,l.jsx)("p",{style:{color:"red"},children:"Note: images should be no more 1MB and size of 600 * 600 px"}),(0,l.jsx)("button",{type:"submit",className:"px-5 py-2 mt-3",style:{background:"#c01907"},disabled:p,children:"Submit"})]})}),(0,l.jsx)("button",{onClick:()=>k(!0),className:"text-red-700 mr-3",children:"Delete"}),(0,l.jsxs)(n.Z,{modalOpen:w,setModalOpen:k,children:[(0,l.jsx)("h1",{className:"text-2xl pb-3",children:"Are you sure, You want to delete this post?"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("button",{onClick:()=>C(t.id),className:"text-blue-700 font-bold mr-5",children:"YES"}),(0,l.jsx)("button",{onClick:()=>k(!1),className:"text-red-700 font-bold mr-5",children:"No"})]})]})]})]},t.id)},d=e=>{let{posts:t}=e;return(0,l.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 place-items-start",children:null==t?void 0:t.map(e=>(0,l.jsx)(c,{post:e},e.id))})}},4680:function(e,t,a){async function l(){let e=await fetch("/api/posts",{next:{revalidate:0}}),t=await e.json();return t.posts}async function n(){let e=await fetch("/api/order",{next:{revalidate:0}}),t=await e.json();return t.posts}async function s(){let e=await fetch("/api/postss",{next:{revalidate:0}}),t=await e.json();return t.posts}async function i(e){let t=await fetch("/api/order/".concat(e),{next:{revalidate:0}}),a=await t.json();return a.posts}a.d(t,{W0:function(){return s},rU:function(){return i},sj:function(){return n},z5:function(){return l}})}}]);